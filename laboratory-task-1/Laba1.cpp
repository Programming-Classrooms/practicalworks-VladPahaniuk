#define _USE_MATH_DEFINES
#include <iostream>
#include <cmath>
using namespace std;
//–ó–∞–¥–∞–Ω–∏—è –∫ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ ‚Ññ1 :
//–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, 
// –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –µ–µ –≤ –≤–∏–¥–µ —Ä—è–¥–∞ –¢–µ–π–ª–æ—Ä–∞.
// –í—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å, –∫–æ–≥–¥–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–µ —Å–ª–∞–≥–∞–µ–º–æ–µ –æ–∫–∞–∂–µ—Ç—Å—è –ø–æ –º–æ–¥—É–ª—é –º–µ–Ω—å—à–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ ùëíùëùùë†ùëñùëôùëúùëõ,
//  –≥–¥–µ 0 < ùëíùëùùë†ùëñùëôùëúùëõ < 10^-ùëò, ùëò ‚Äì –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ, ùëò >1. –°—Ä–∞–≤–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º, –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–º —Å –ø–æ–º–æ—â—å—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
// –ó–Ω–∞—á–µ–Ω–∏–µ ùë• –∏ ùëò –≤–≤–µ—Å—Ç–∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É.
//ùëí^-x = 1 - x / 1!+ x ^ 2 / 2!...

double calculation(int32_t x, int32_t k ) {
  int32_t i = 1;
  double sum = 1.0, temp;
  int32_t eps = pow(10, -k);
  temp = -x;
  while (fabs(temp) > eps) {
    sum += temp;
    temp = -temp * x / (i + 1);
    i++;
  }
  return sum;
}
int main() {
  try
  {
    int32_t k;
    double x;
    cout << "Input X:\n";
    cin >> x;
    cout << "Input K:\n";
    cin >> k;
    if (k < 1) {
      throw std::exception("k must be a natural number\n");
    }
    double summ = calculation(x, k);
    cout << "e^-x " << exp(-x) << "\tsum= " << summ;
  }
  catch (const std::exception& e)
  {
    std::cerr << "Exception: " << e.what() << std::endl;
  }
  

  return 0;
}
