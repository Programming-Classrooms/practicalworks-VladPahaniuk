/*ะะฐะดะฐะฝะธั ะบ ะปะฐะฑะพัะฐัะพัะฝะพะน ัะฐะฑะพัะต โ1 :
ะะฐะทัะฐะฑะพัะฐัั ะบะพะฝัะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะดะปั ะฒััะธัะปะตะฝะธั ะฟัะธะฑะปะธะถัะฝะฝะพะณะพ ะทะฝะฐัะตะฝะธั ััะฝะบัะธะธ,
ะธัะฟะพะปัะทัั ะฟัะตะดััะฐะฒะปะตะฝะธะต ะตะต ะฒ ะฒะธะดะต ััะดะฐ ะขะตะนะปะพัะฐ.
ะััะธัะปะตะฝะธั ะทะฐะบะฐะฝัะธะฒะฐัั, ะบะพะณะดะฐ ะพัะตัะตะดะฝะพะต ัะปะฐะณะฐะตะผะพะต ะพะบะฐะถะตััั ะฟะพ ะผะพะดัะปั ะผะตะฝััะต ะทะฐะดะฐะฝะฝะพะณะพ ัะธัะปะฐ ๐๐๐๐๐๐๐,
 ะณะดะต 0 < ๐๐๐๐๐๐๐ < 10^-๐, ๐ โ ะฝะฐัััะฐะปัะฝะพะต ัะธัะปะพ, ๐ >1. ะกัะฐะฒะฝะธัั ะฟะพะปััะตะฝะฝัะน ัะตะทัะปััะฐั ัะพ ะทะฝะฐัะตะฝะธะตะผ, ะฒััะธัะปะตะฝะฝัะผ ั ะฟะพะผะพััั ััะฐะฝะดะฐััะฝัั ััะฝะบัะธะน.
ะะฝะฐัะตะฝะธะต ๐ฅ ะธ ๐ ะฒะฒะตััะธ ะฟะพ ะทะฐะฟัะพัั.
๐^-x = 1 - x / 1!+ x ^ 2 / 2!...
*/


#define _USE_MATH_DEFINES
#include <iostream>
#include <cmath>
using namespace std;

double calculation(int32_t x, int32_t k)
{
  int32_t i = 1;
  double sum = 1.0, temp;
  int32_t eps = pow(10, -k);
  temp = -x;
  while (fabs(temp) > eps){
          sum += temp;
          temp = -temp * x / (i + 1);
          i++;
  }
  return sum;
}

int main()
{
  try{
      int32_t k;
      double x;
      cout << "Input X:\n";
      cin >> x;
      cout << "Input K:\n";
      cin >> k;
      if (k < 1){
          throw std::exception("k must be a natural number\n");
      }
      double summ = calculation(x, k);
      cout << "e^-x " << exp(-x) << "\tsum= " << summ;
  }
  catch (const std::exception &e){
          std::cerr << "Exception: " << e.what() << std::endl;
  }
  return 0;
}
